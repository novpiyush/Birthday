<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz Game</title>

<style>
body {
  margin: 0;
  height: 100vh;
  background: #9e9e9e;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: Arial, sans-serif;
  overflow: hidden;
}

#bg-animation {
  position: fixed;
  inset: 0;
  pointer-events: none;
}

.card {
  background: #b7aaaa;
  padding: 24px;
  border-radius: 18px;
  width: 85%;
  max-width: 360px;
  text-align: center;
  z-index: 1;
}

h2 {
  margin-bottom: 18px;
}

#options button {
  width: 100%;
  padding: 12px;
  margin: 8px 0;
  border-radius: 25px;
  border: none;
  background: rgba(255,255,255,0.35);
  font-size: 15px;
}

#options button.selected {
  background: white;
}

.nav {
  display: flex;
  justify-content: space-between;
  margin-top: 16px;
}

.nav button {
  padding: 10px 22px;
  border-radius: 25px;
  border: none;
  background: rgba(255,255,255,0.3);
}
</style>
</head>

<body>

<div id="bg-animation"></div>

<div class="card">
  <h2 id="question"></h2>
  <div id="options"></div>

  <div class="nav">
    <button id="prev">PREVIOUS</button>
    <button id="next">OKAY</button>
  </div>
</div>

<audio id="yesSound" src="yes.mp3"></audio>
<audio id="okSound" src="ok.mp3"></audio>
<audio id="bgMusic" src="bg.mp3" loop></audio>

<script>
const questions = [
  {
    q: "When is my birthday?",
    o: ["15 November", "16 November", "17 November", "18 November"],
    a: "16 November"
  },
  {
    q: "Favourite flower?",
    o: ["Rose and Lotus", "Sunflower", "Jasmine", "Lily"],
    a: "Rose and Lotus"
  }
  // baaki questions yahi format me add karna
];

let index = 0;
let score = 0;
let selected = null;
let answered = false;

const questionEl = document.getElementById("question");
const optionsEl = document.getElementById("options");
const nextBtn = document.getElementById("next");
const prevBtn = document.getElementById("prev");

const yesSound = document.getElementById("yesSound");
const okSound = document.getElementById("okSound");
const bgMusic = document.getElementById("bgMusic");

bgMusic.volume = 0.2;
bgMusic.play();

function loadQuestion() {
  answered = false;
  selected = null;
  optionsEl.innerHTML = "";

  questionEl.innerText = questions[index].q;

  questions[index].o.forEach(opt => {
    const btn = document.createElement("button");
    btn.innerText = opt;

    btn.onclick = () => {
      if (answered) return;

      document
        .querySelectorAll("#options button")
        .forEach(b => b.classList.remove("selected"));

      btn.classList.add("selected");
      selected = opt;
    };

    optionsEl.appendChild(btn);
  });
}

nextBtn.onclick = () => {
  if (!selected || answered) return;

  answered = true;
  yesSound.currentTime = 0;
  yesSound.play();

  if (selected === questions[index].a) {
    score++;
  }

  index++;

  setTimeout(() => {
    if (index >= questions.length) {
      endGame();
    } else {
      loadQuestion();
    }
  }, 200);
};

prevBtn.onclick = () => {
  if (index === 0) return;
  okSound.currentTime = 0;
  okSound.play();
  index--;
  loadQuestion();
};

function endGame() {
  document.body.innerHTML = `
    <div class="card">
      <h1>YOU WON THE GAME</h1>
      <p>You won by scoring ${score} out of ${questions.length}</p>
      <p>Now you can give me any dare and I will complete it.</p>
      <button onclick="location.reload()">RESTART GAME</button>
    </div>
  `;
}

loadQuestion();
</script>

</body>
</html>
